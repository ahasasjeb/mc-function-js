!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MCFunctionHighlight=t():e.MCFunctionHighlight=t()}(this,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>a});const a={init(){this.highlightAll(),this.observeDOM()},highlightAll(){document.querySelectorAll("pre > code.language-mcfunction").forEach((e=>{this.highlightElement(e)}))},highlightElement(e){const t=e.textContent,a=this.highlight(t),n=document.createElement("div");n.className="mcfunction-viewer",n.innerHTML=a;const s=document.createElement("button");s.className="mcfunction-copy-button",s.textContent="复制",s.addEventListener("click",(()=>this.copyCode(t,s))),n.appendChild(s);const o=e.parentNode;o.innerHTML="",o.appendChild(n)},highlight:e=>e.split("\n").map((e=>e.trim()?e.trim().startsWith("#")?`<div class="comment">${e}</div>`:`<div>${e=e.replace(/\b(execute|run)\b/g,(e=>`<span class="command">${e}</span>`)).replace(/\b(align|anchored|as|at|facing|in|positioned|rotated|store|result|success)\b/g,(e=>`<span class="execute-modifier">${e}</span>`)).replace(/\b(if|unless)\b/g,(e=>`<span class="execute-condition">${e}</span>`)).replace(/\b(advancement|agent|alwaysday|attribute|ban|ban-ip|banlist|bossbar|camera|camerashake|clear|clearspawnpoint|clone|connect|damage|data|datapack|daylock|debug|deop|difficulty|effect|enchant|event|experience|fill|fillbiome|fog|forceload|function|gamemode|gamerule|give|help|hud|immutableworld|inputpermission|item|jfr|kick|kill|list|locate|loot|me|mobevent|msg|music|op|particle|permission|place|playsound|recipe|reload|ride|say|schedule|scoreboard|setblock|setworldspawn|spawnpoint|spreadplayers|stop|stopsound|summon|tag|tell|tellraw|time|title|tp|transfer|weather|whitelist|xp)\b/g,(e=>`<span class="command">${e}</span>`)).replace(/@[apers](?:\[(?:[^\]]*(?:type|distance|limit|sort|x|y|z|dx|dy|dz|scores|tag|team|name|nbt|predicate|gamemode|level|advancements|nbt|rotation|pitch|yaw)=[^\]]*)*\])?/g,(e=>`<span class="selector">${e}</span>`)).replace(/(?:^|\s)([~^][-\d]*\.?\d*)/g,((e,t)=>e.replace(t,`<span class="coordinates">${t}</span>`))).replace(/\b(\d+(?:\.\.\d+)?)\b/g,(e=>`<span class="number">${e}</span>`)).replace(/\b(true|false)\b/g,(e=>`<span class="boolean">${e}</span>`)).replace(/\b(type|distance|limit|sort|scores|tag|team|name|nbt|predicate|gamemode|level|advancements|rotation|pitch|yaw|dx|dy|dz|x|y|z|sort|nearest|furthest|random|arbitrary|block|blocks|entity|score|matches|eyes|feet|dimension|storage|bossbar|scale)\b/g,(e=>`<span class="parameter">${e}</span>`)).replace(/\b(overworld|the_nether|the_end)\b/g,(e=>`<span class="dimension">${e}</span>`)).replace(/\b(grass_block|stone|speed|glowing|true)\b/g,(e=>`<span class="string">${e}</span>`))}</div>`:"<div>&nbsp;</div>")).join(""),observeDOM(){new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{if(1===e.nodeType){e.querySelectorAll("pre > code.language-mcfunction").forEach((e=>this.highlightElement(e)))}}))}))})).observe(document.body,{childList:!0,subtree:!0})},async copyCode(e,t){try{await navigator.clipboard.writeText(e),t.textContent="已复制！",t.classList.add("success"),setTimeout((()=>{t.textContent="复制",t.classList.remove("success")}),2e3)}catch(e){console.error("复制失败:",e),t.textContent="复制失败",setTimeout((()=>{t.textContent="复制"}),2e3)}}};return t})()));